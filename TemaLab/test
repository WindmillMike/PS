import numpy as np
import matplotlib.pyplot as plt
from scipy.datasets import ascent # nu imi gasea modulul misc
from scipy.fft import dctn, idctn
from Q_jpeg import Q_jpeg
from functiiUtilitare import adaugarePadding
from tabele_huffman import HUFFMAN_DC_LUMINANCE, HUFFMAN_AC_LUMINANCE

np.set_printoptions(suppress=True,
                    formatter={'float_kind':'{:f}'.format})

X = ascent()
inaltime, latime = X.shape

Q_jpeg = Q_jpeg  #matricea de cuantizare

X_padding = adaugarePadding(X)
inaltime_padding, latime_padding = X_padding.shape


for i in range(inaltime_padding // 8):
    for j in range(latime_padding // 8):
        bloc = X_padding[i * 8:(i + 1) * 8, j * 8:(j + 1) * 8]
        bloc_centrat = bloc - 128.0
        bloc_dct = dctn(bloc_centrat).astype(float)
        bloc_dct_impartit = np.round(bloc_dct / Q_jpeg).astype(np.int32)

